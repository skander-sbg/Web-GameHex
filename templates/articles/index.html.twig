{% extends 'base.html.twig' %}

{% block title %}Articles index{% endblock %}

{% block body %}

<section>
    <div class=" bottom-0 right-0 p-3" style="z-index: 5; right: 0; bottom: 0; border: 2px solid red;
  border-radius: 5px;">
        <div id="liveToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true"
            data-autohide="false">
            <div class="toast-header">
                <strong class="mr-auto"></strong>

                <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="toast-body">
                {{data.content}}
            </div>
        </div>
    </div>
</section>
<h1>Articles List</h1>

<table class="table">
    <thead>
        <tr>
            <th>Id</th>
            <th>Content</th>
            <th>actions</th>
        </tr>
    </thead>
    <tbody id="myTable">

        {% for article in articles %}
        {% if article.accept== 1%}
        <tr>
            <td>{{ article.id }}</td>
            <td>{{ article.content }}</td>
            <td>
                <a href="{{ path('app_articles_show', {'id': article.id}) }}">show</a>
                <a href="{{ path('app_articles_edit', {'id': article.id}) }}">edit</a>
            </td>

        </tr>
        {% endif %}
        {% else %}
        <tr>
            <td colspan="3">no records found</td>
        </tr>
        {% endfor %}


    </tbody>

</table>

<a href="{{ path('app_articles_new') }}">Create new</a>
{#<center>
                    <a href="{{ path('app_profile', {'email': app.user.username}) }}" class="btn btn-primary btn-lg my-10">Profile</a>
                </center>#}


{% endblock %}

{% block javascripts %}
{{ parent() }}
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous">
</script>
<script>
    var toastLiveExample = document.getElementById('liveToast')
    const myGreeting = function () {

        var toast = new bootstrap.Toast(toastLiveExample)
        //$('#liveToast').toast({autohide:false})
        $('#liveToast').toast('show')
    }
    document.getElementById('preloder').style.display = 'none';
    const myTimeout = setTimeout(myGreeting, 1000);
</script>
{% endblock %}